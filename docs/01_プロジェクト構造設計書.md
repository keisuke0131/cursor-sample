# プロジェクト構造設計書

## 1. 概要

本ドキュメントでは、Cursorを使用したJava開発プロジェクトの標準的なディレクトリ構造と、各ディレクトリの役割を定義します。

## 2. ディレクトリ構造

```
プロジェクトルート/
├── docs/                          # 設計書・ドキュメント類
│   ├── 01_プロジェクト構造設計書.md
│   ├── 02_開発プロセスガイド.md
│   ├── 03_詳細設計書テンプレート.md
│   ├── 04_テスト設計書.md
│   ├── 05_サンプルシステム設計書.md
│   └── 06_実装ガイドライン.md
│
├── src/                           # ソースコード
│   └── main/
│       └── java/
│           └── com/
│               └── company/
│                   └── system/
│                       ├── controller/    # コントローラー層
│                       ├── service/      # サービス層
│                       ├── repository/   # リポジトリ層
│                       ├── model/        # エンティティ・モデル
│                       └── dto/          # DTO（Data Transfer Object）
│
├── test/                          # テストコード
│   └── java/
│       └── com/
│           └── company/
│               └── system/
│                   ├── unit/            # 単体テスト
│                   ├── integration/     # 結合テスト
│                   └── system/          # システムテスト
│
├── test-docs/                     # テスト設計書
│   ├── 単体テスト設計書.md
│   ├── 結合テスト設計書.md
│   └── システムテスト設計書.md
│
├── pom.xml                        # Maven設定ファイル
├── README.md                      # プロジェクト概要
└── .gitignore                     # Git除外設定
```

## 3. 各ディレクトリの役割

### 3.1 docs/
設計書や開発ガイドラインなどのドキュメントを格納します。
- プロジェクト構造設計書
- 開発プロセスガイド
- 詳細設計書テンプレート
- テスト設計書
- 実装ガイドライン

### 3.2 src/main/java/
アプリケーションのメインソースコードを格納します。

#### 3.2.1 controller/
HTTPリクエストを受け取り、レスポンスを返すコントローラー層。
- REST APIエンドポイントの定義
- リクエスト/レスポンスのバリデーション
- 例外処理

#### 3.2.2 service/
ビジネスロジックを実装するサービス層。
- トランザクション管理
- ビジネスルールの実装
- 他サービスとの連携

#### 3.2.3 repository/
データアクセス層。
- データベースアクセス
- CRUD操作の実装
- クエリの定義

#### 3.2.4 model/
エンティティやドメインモデル。
- データベーステーブルに対応するエンティティ
- ドメインオブジェクト

#### 3.2.5 dto/
データ転送オブジェクト。
- API間のデータ転送
- リクエスト/レスポンスの構造定義

### 3.3 test/
テストコードを格納します。

#### 3.3.1 unit/
単体テスト（JUnit使用）。
- クラス単位のテスト
- メソッド単位のテスト
- モックを使用したテスト

#### 3.3.2 integration/
結合テスト。
- 複数クラス間の連携テスト
- データベースとの結合テスト
- 外部APIとの結合テスト

#### 3.3.3 system/
システムテスト。
- エンドツーエンドのテスト
- 実際の環境での動作確認

### 3.4 test-docs/
テスト設計書を格納します。
- テストケースの定義
- テストシナリオ
- テストデータの定義

## 4. パッケージ命名規則

- パッケージ名は小文字のみ使用
- ドメイン名を逆順に使用（例: `com.company.system`）
- レイヤーごとにサブパッケージを分割

## 5. ファイル命名規則

- Javaクラス: PascalCase（例: `UserService.java`）
- テストクラス: `[クラス名]Test.java`（例: `UserServiceTest.java`）
- マークダウンファイル: `[番号]_[名前].md`（例: `01_プロジェクト構造設計書.md`）

## 6. 依存関係管理

- Mavenを使用して依存関係を管理
- `pom.xml`に必要なライブラリを定義
- 主要な依存関係:
  - Spring Boot（Webアプリケーションフレームワーク）
  - JUnit 5（テストフレームワーク）
  - Mockito（モックライブラリ）
  - H2 Database（インメモリデータベース、テスト用）

