# Cursor便利機能ガイド

Cursorは、AIを活用したコーディング支援ツールで、開発者の生産性を飛躍的に向上させます。本ガイドでは、Cursorの主要な便利機能を解説します。

## 目次

1. [Tab補完機能](#1-tab補完機能)
2. [Agentの概要](#2-agentの概要)
3. [チャットのタブ機能](#3-チャットのタブ機能)
4. [要約機能](#4-要約機能)
5. [コマンド機能](#5-コマンド機能)
6. [プランニング機能](#6-プランニング機能)
7. [モード機能](#7-モード機能)
8. [ツール機能](#8-ツール機能)
9. [ブラウザ機能](#9-ブラウザ機能)
10. [クラウドエージェント](#10-クラウドエージェント)
11. [CLI機能](#11-cli機能)
12. [コンテキストルール](#12-コンテキストルール)
13. [コードベースインデックス作成](#13-コードベースインデックス作成)
14. [Bugbot](#14-bugbot)

---

## 1. Tab補完機能

Tabは、Cursorのオートコンプリート専用モデルです。`Tab`キーで受け入れ、`Escape`で却下することで、使うほど賢くなります。

### 主な機能

- **複数行の一括変更**: 一度に複数行を編集できます
- **自動インポート**: 不足しているimport文を自動的に追加します
- **ファイル間ジャンプ**: 複数ファイルにまたがる編集を予測し、ファイル間を移動できます
- **コンテキスト対応**: 直近の変更、リントエラー、受け入れた編集に基づいて提案を生成します

### 使い方

- **サジェストの受け入れ**: `Tab`キー
- **サジェストの却下**: `Escape`キー
- **単語単位で受け入れ**: `Cmd+Arrow Right`（Mac）または `Ctrl+Arrow Right`（Windows/Linux）
- **次の編集箇所へ移動**: 編集を適用後、再度`Tab`キーを押す

### ファイル内を移動

Tabは、ファイル内の次の編集箇所を予測し、移動先を提案します。編集を適用したら、`Tab`をもう一度押すと次の箇所へ移動します。

### ファイル間ジャンプ

Tabは、複数ファイルにまたがる文脈に応じた編集を予測します。ファイルをまたいだ移動が提案されると、下部にポータルウィンドウが表示されます。

### 自動インポート

TypeScriptとPythonでは、Tabが不足しているimport文を自動追加します。別ファイルのメソッドを使うと、Tabが該当のimportを提案します。

自動インポートが動作しない場合:
- プロジェクトに適切な言語サーバーや拡張機能が入っているか確認する
- `Cmd .`（Mac）または `Ctrl .`（Windows/Linux）でテストし、Quick Fixの候補にimportが表示されるか確認する

### Peek内のTab

Tabは、_Go to Definition_や_Go to Type Definition_のpeekビューで動作します。関数シグネチャの変更や呼び出し元の修正に便利です。

### 設定

- **Cursor Tab**: 直近の編集内容を踏まえ、カーソル周辺にコンテキスト対応の複数行候補を表示
- **Partial Accepts**: `Cmd Right`で候補の次の単語だけを受け入れる
- **Suggestions While Commenting**: コメントブロック内でTabによる補完を有効化
- **Whitespace-Only Suggestions**: 体裁（空白など）にのみ影響する変更を許可
- **Imports**: TypeScriptの自動インポートを有効化
- **Auto Import for Python (beta)**: Pythonプロジェクトの自動インポートを有効化

### 切り替え

ステータスバー（右下）から次を実行できます:
- **スヌーズ**: 指定した時間だけTabを一時的に無効化
- **全体で無効化**: すべてのファイルでTabを無効化
- **拡張子ごとに無効化**: 特定のファイル拡張子（例: MarkdownやJSON）でTabを無効化

**詳細**: [Tab公式ドキュメント](https://cursor.com/ja/docs/tab/overview)

---

## 2. Agentの概要

Agentは、Cursorのアシスタントで、複雑なコーディングタスクを自律的にこなし、ターミナルコマンドの実行やコード編集を行えます。サイドペインで`Cmd+I`（Mac）または`Ctrl+I`（Windows/Linux）から開けます。

### 主な機能

- **自律的なタスク完了**: 複雑なコーディングタスクを自動的に実行
- **ターミナルコマンド実行**: コマンドを生成・実行し、出力を監視
- **コード編集**: ファイルの読み取り、編集、作成を自動的に行う
- **複数手順の処理**: 複数のステップに分かれたタスクを順次実行

### 使い方

1. `Cmd+I`（Mac）または`Ctrl+I`（Windows/Linux）でAgentを開く
2. 自然言語でタスクを説明する
3. Agentが自動的にタスクを実行する
4. 変更を確認して受け入れるか却下する

### チェックポイント

自動スナップショットでAgentの変更履歴を記録します。変更が期待どおりに動作しない場合や別の方法を試したいときは、以前の状態に復元できます。

### 差分レビュー

受け入れる前に変更を確認できます。レビュー画面では、追加と削除を色分けした行で表示し、変更をきめ細かくコントロールできます。

### チャット履歴

`Opt+Cmd+'`（Mac）または`Alt+Ctrl+'`（Windows/Linux）で過去の会話にアクセスできます。以前の議論を確認し、コーディングセッションを追跡できます。

### チャットをエクスポート

会話をMarkdown形式でエクスポートできます。解決策をチームと共有し、意思決定を記録したり、コーディングセッションからナレッジベースを作成したりできます。

**詳細**: [Agent公式ドキュメント](https://cursor.com/ja/docs/agent/overview)

---

## 3. チャットのタブ機能

Agentのチャットインターフェースでは、複数のタブを使用して異なるコンテキストやタスクを同時に管理できます。

### 主な機能

- **複数タブの管理**: 異なるトピックやプロジェクトに関するやり取りを整理
- **タブ間の切り替え**: 簡単に異なるコンテキストに切り替え
- **タブの整理**: 関連する会話をグループ化

### 使い方

- 新しいタブを作成して、異なるタスクやトピックを分離
- タブ間を切り替えて、複数の作業を並行して進める
- 不要なタブを閉じて、作業環境を整理

**詳細**: [チャットのタブ機能公式ドキュメント](https://cursor.com/ja/docs/agent/chat/tabs)

---

## 4. 要約機能

Agentは、長いコードやドキュメントの要約を生成することができます。

### 主な機能

- **コードの要約**: 長いコードブロックの要点を簡潔に把握
- **ドキュメントの要約**: 長文のドキュメントから重要なポイントを抽出
- **会話の要約**: 長い会話の内容を要約して把握

### 使い方

- 長いコードやドキュメントを選択して、Agentに要約を依頼
- 会話の要約を生成して、重要なポイントを確認

**詳細**: [要約機能公式ドキュメント](https://cursor.com/ja/docs/agent/chat/summarization)

---

## 5. コマンド機能

Agentは、自然言語での指示を受け取り、対応するターミナルコマンドを生成・実行することができます。

### 主な機能

- **コマンド生成**: 自然言語の指示から適切なコマンドを生成
- **コマンド実行**: 生成したコマンドを実行し、結果を表示
- **確認プロンプト**: デフォルトでは、すべてのコマンド実行前に確認が求められます

### 使い方

- 自然言語で「このプロジェクトをビルドして」などと指示
- Agentが適切なコマンドを生成し、実行前に確認を求める
- 承認するとコマンドが実行され、結果が表示される

### 信頼済みワークフロー

よく使うワークフローは自動実行を設定でき、安全性のために確認を必須にすることも可能です。

**詳細**: [コマンド機能公式ドキュメント](https://cursor.com/ja/docs/agent/chat/commands)

---

## 6. プランニング機能

Agentは、複雑なタスクを扱いやすいステップに分解し、To-Doリストを作成します。

### 主な機能

- **タスクの分解**: 複雑なタスクを小さなステップに分割
- **To-Doリストの作成**: 構造化されたTo-Doリストを自動生成
- **進捗管理**: 進捗に応じてリストがリアルタイムに更新される
- **メッセージキュー**: タスクの優先順位を管理

### 使い方

- 複雑なタスクをAgentに依頼
- Agentがタスクを分解し、To-Doリストを作成
- 各ステップの進捗を確認しながら、タスクを完了

**詳細**: [プランニング機能公式ドキュメント](https://cursor.com/ja/docs/agent/planning)

---

## 7. モード機能

Agentには、さまざまなワークフローに対応するための異なるモードが用意されています。

### 主なモード

- **Agentモード**: 自律的にタスクを完了するモード
- **Askモード**: 質問に答えることに特化したモード
- **Manualモード**: 手動で操作を確認しながら進めるモード
- **カスタムモード**: ユーザーが独自に定義したモード

### 使い方

- 作業内容に応じて最適なモードを選択
- カスタムモードを作成して、特定のワークフローに最適化
- モード間を切り替えて、異なる作業スタイルに対応

**詳細**: [モード機能公式ドキュメント](https://cursor.com/ja/docs/agent/modes)

---

## 8. ツール機能

Agentは、検索、編集、コマンド実行などのタスクを支援するための多様なツールを備えています。

### 主なツール

- **セマンティック検索**: コードベース全体を意味的に検索
- **コード編集**: ファイルの読み取り、編集、作成
- **ターミナル実行**: コマンドの生成と実行
- **MCP統合**: Model Context Protocolとの統合により機能が拡張

### 使い方

- Agentが自動的に適切なツールを選択して使用
- ツールの実行結果を確認しながら、タスクを進める
- MCPサーバーを設定して、カスタムツールを追加

**詳細**: [ツール機能公式ドキュメント](https://cursor.com/ja/docs/agent/tools)

---

## 9. ブラウザ機能

Agentは、ウェブブラウザと連携して、アプリのテストや情報収集、Webベースのタスクを自律的に実行できます。

### 主な機能

- **スクリーンショット撮影**: ブラウザの状態をキャプチャ
- **UIの改善**: ウェブアプリケーションのUIを分析・改善
- **クライアントサイドのデバッグ**: ブラウザ内の問題を特定・修正
- **情報収集**: ウェブサイトから情報を取得

### 使い方

- ブラウザ操作が必要なタスクをAgentに依頼
- Agentが自動的にブラウザを操作し、結果を報告
- スクリーンショットを確認しながら、問題を特定

**詳細**: [ブラウザ機能公式ドキュメント](https://cursor.com/ja/docs/agent/browser)

---

## 10. クラウドエージェント

クラウドエージェントは、リモート環境での開発作業をサポートするための機能です。

### 主な機能

- **リモート実行**: クラウド上でコードを実行
- **リソースの最適化**: ローカル環境の負荷を軽減
- **スケーラビリティ**: 大規模なプロジェクトやタスクに対応
- **チーム協働**: 複数の開発者が同じ環境を共有

### 使い方

- クラウドエージェントを有効化
- リモート環境でタスクを実行
- ローカル環境に依存せずに開発を進める

**詳細**: [クラウドエージェント公式ドキュメント](https://cursor.com/ja/docs/cloud-agent)

---

## 11. CLI機能

Cursorのコマンドラインインターフェース（CLI）は、ターミナルから直接Cursorの機能を利用するためのツールです。

### 主な機能

- **コマンドライン操作**: ターミナルからCursorの機能を実行
- **スクリプト化**: 自動化タスクの作成
- **プロジェクト管理**: コマンドラインからプロジェクトを操作

### 使い方

- Cursor CLIをインストール
- ターミナルからCursorのコマンドを実行
- スクリプトに組み込んで自動化

**詳細**: [CLI公式ドキュメント](https://cursor.com/ja/docs/cli/overview)

---

## 12. コンテキストルール

コンテキストルールは、Agentがコードベースを理解し、適切なコンテキストで動作するためのガイドラインを設定する機能です。

### 主な機能

- **カスタム指示**: Agentの挙動に関するカスタム指示を定義
- **コーディング標準の維持**: プロジェクトのコーディング規約を強制
- **パターンの徹底**: 特定のパターンやアーキテクチャを遵守
- **プロジェクト支援のパーソナライズ**: プロジェクト固有のルールを設定

### 使い方

- `.cursor/rules/`ディレクトリにルールファイルを作成
- プロジェクト固有のルールを定義
- Agentが自動的にルールを適用

### ルールの例

- コーディング規約の定義
- アーキテクチャパターンの指定
- テスト戦略の設定
- ドキュメント作成のガイドライン

**詳細**: [コンテキストルール公式ドキュメント](https://cursor.com/ja/docs/context/rules)

---

## 13. コードベースインデックス作成

コードベースインデックス作成は、ローカルのワークスペース内のファイルを横断するセマンティック検索を有効化する機能です。自然言語クエリに対応した検索用インデックスを構築し、コードベース全体から関連するコードを見つけられます。

### 主な機能

- **セマンティック検索**: コードの意味を理解した検索が可能
- **自動インデックス作成**: ワークスペースを開くと自動的にインデックス作成が開始
- **自動同期**: 5分ごとに変更されたファイルを自動的に更新
- **高速検索**: オフラインで処理されたインデックスにより、高速な検索が可能

### 仕組み

Cursorは、7つの手順でコードを検索可能なベクトルに変換します:

1. **ファイル同期**: ワークスペースのファイルは、インデックスを最新に保つためにCursorのサーバーと安全に同期されます
2. **チャンク化**: ファイルは、関数・クラス・論理的なコードブロックなど、コードの本質を捉える意味のあるチャンクに分割されます
3. **ベクトル化**: 各チャンクはAIモデルでベクトル表現に変換され、コードの意味を捉える数学的なフィンガープリントが作成されます
4. **データベース保存**: これらの埋め込みは、高速な類似検索に最適化された専用のベクトルデータベースに保存されます
5. **クエリ変換**: 検索時には、クエリもコード処理と同じAIモデルでベクトルに変換されます
6. **類似度計算**: システムは、クエリのベクトルを保存済みの埋め込みと比較し、最も類似するコードチャンクを特定します
7. **結果返却**: セマンティックな類似度でランク付けされた、ファイル位置やコンテキスト付きの関連コードスニペットが返されます

### プライバシーとセキュリティ

コードのプライバシーは複数のセキュリティ層で保護されています:

- **パス暗号化**: ファイルパスはサーバー送信前に暗号化され、プロジェクト構造は秘匿されます
- **コードの非保存**: コード本体が平文でサーバーに保存されることはなく、知的財産の機密性を維持します
- **一時的な保持**: コードはインデックス作成中のみメモリに保持され、その後破棄されるため、ソースコードが恒久的に保存されることはありません

### はじめに

#### 初回のインデックス作成

ワークスペースを開くと、インデックス作成が自動で始まります。システムがワークスペース構造をスキャンし、ファイルを安全にアップロードして、AIモデルで処理し、埋め込みを生成します。**セマンティック検索は進捗が80%に達すると利用可能になります。**

### インデックスを最新に保つ

#### 自動同期

Cursorは5分ごとの定期チェックで、ワークスペースとインデックスを自動的に同期します。システムは変更されたファイルのみを効率的に更新し、古い埋め込みを削除して必要に応じて新規作成します。

#### インデックス対象

| ファイル種別 | 動作 |
|-----------|--------|
| 新規ファイル | 自動でインデックスに追加 |
| 変更済みファイル | 既存の埋め込みを削除し、新規の埋め込みを作成 |
| 削除済みファイル | すぐにインデックスから削除 |
| 大規模/複雑なファイル | パフォーマンスのためスキップされる場合あり |

### なぜセマンティック検索？

`grep`や`ripgrep`のようなツールは厳密な文字列一致の検索には有用ですが、セマンティック検索はコードの意味を理解してさらに踏み込みます。

例えば、Agentに「トップナビゲーションを更新して」と指示すると、ファイル名に「navigation」が含まれていなくても、セマンティック検索は`header.tsx`を見つけられます。これは、埋め込み表現が「header」と「top navigation」が意味的に関連していると理解しているためです。

#### grep単体に対するメリット

セマンティック検索には次のメリットがあります:

- **より高速**: 計算は実行時ではなくインデックス作成（オフライン）時に行われるため、Agentの検索は高速で低コスト
- **より高精度**: カスタム学習モデルは、単純な文字列一致よりも関連度の高い結果を返す
- **追質問の削減**: ユーザーは確認メッセージが減り、grepのみの検索に比べて使用トークンも少なくて済む
- **概念での一致**: 名前だけでなく、コードの「何をするか」で見つけられる

> **注意**: Agentはgrepとセマンティック検索を**両方**使います。grepは厳密なパターンの検出に、セマンティック検索は概念的に類似したコードの検出に優れます。組み合わせることで最良の結果が得られます。

### 設定

Cursorは、[ignore files](https://cursor.com/ja/docs/context/ignore-files)（例: `.gitignore`、`.cursorignore`）に指定されたものを除くすべてのファイルをインデックスします。

`Show Settings`をクリックして次を行います:

- 新規リポジトリの自動インデックスを有効化
- 無視するファイルを設定

> **ヒント**: 大きなコンテンツファイルを[無視すると](https://cursor.com/ja/docs/context/ignore-files)、回答の精度が向上します。

#### インデックス済みファイルを表示

インデックス済みのファイルパスを確認するには: `Cursor Settings` > `Indexing & Docs` > `View included files`

すると、インデックス済みの全ファイルを一覧した`.txt`ファイルが開きます。

### よくある質問

**Q: インデックス済みのコードベースはどこで確認できますか？**  
A: まだグローバル一覧はありません。各プロジェクトを個別にCursorで開き、Codebase Indexingの設定を確認してください。

**Q: インデックス済みのコードベースをすべて削除するには？**  
A: SettingsからCursorアカウントを削除すると、すべてのインデックス済みコードベースが削除されます。それ以外の場合は、各プロジェクトのCodebase Indexing設定から個別に削除してください。

**Q: インデックス済みのコードベースはどのくらい保持されますか？**  
A: インデックス済みコードベースは、6週間アクティビティがない場合に削除されます。プロジェクトを再度開くと再インデックス化が実行されます。

**Q: ソースコードはCursorのサーバーに保存されますか？**  
A: いいえ。Cursorはファイル名やソースコードを保存せずに埋め込みを作成します。ファイル名は難読化され、コードチャンクは暗号化されます。Agentがコードベースを検索する際、Cursorはサーバーから埋め込みを取得し、チャンクを復号します。

**Q: パス暗号化はカスタマイズできますか？**  
A: ワークスペースのルートに`.cursor/keys`ファイルを作成して、パス暗号化をカスタマイズします:

```json
{
  "path_decryption_key": "your-custom-key-here"
}
```

**Q: チーム共有はどのように機能しますか？**  
A: インデックスはチームメンバー間で共有でき、類似のコードベースのインデックス化を高速化します。ファイルのアクセス権限を尊重し、アクセス可能な内容のみを共有します。

**Q: スマートインデックスコピーとは？**  
A: チームワークスペースでは、互換性のあるファイル構造を持つ類似のコードベースからコピーして、Cursorがインデックス化を高速化できます。自動で行われ、プライバシー権限を尊重します。

**Q: Cursorはマルチルートワークスペースをサポートしていますか？**  
A: はい。Cursorエディターは[マルチルートワークスペース](https://code.visualstudio.com/docs/editor/workspaces#_multiroot-workspaces)をサポートしており、複数のコードベースで作業できます:
- すべてのコードベースが自動的にインデックス化されます
- 各コードベースのコンテキストがAIで利用可能です
- `.cursor/rules`はすべてのフォルダーで機能します
- worktreesなど単一のgitルートに依存する一部の機能は、マルチルートワークスペースでは無効になります

> **注意**: Cursor Cloud Agentsはマルチルートワークスペースをサポートしていません。

**詳細**: [コードベースインデックス作成公式ドキュメント](https://cursor.com/ja/docs/context/codebase-indexing)

---

## 14. Bugbot

Bugbotは、コードベース内のバグや問題を自動的に検出し、修正提案を行うツールです。

### 主な機能

- **バグの自動検出**: コードベース全体をスキャンしてバグを発見
- **修正提案**: 検出されたバグに対する修正案を提示
- **品質向上**: コードの品質を継続的に改善
- **デバッグ効率化**: バグ修正の時間を短縮

### 使い方

- Bugbotを有効化
- コードベースをスキャン
- 検出されたバグと修正提案を確認
- 提案を承認して修正を適用

**詳細**: [Bugbot公式ドキュメント](https://cursor.com/ja/docs/bugbot)

---

## まとめ

Cursorのこれらの機能を活用することで、開発者の生産性を大幅に向上させることができます。各機能の詳細については、上記のリンク先の公式ドキュメントをご参照ください。

### 推奨される使い方

1. **Tab補完機能**: 日常的なコーディングで積極的に活用
2. **Agent**: 複雑なタスクや繰り返し作業に活用
3. **コンテキストルール**: プロジェクトの初期設定で定義
4. **コードベースインデックス作成**: プロジェクト開始時に自動で有効化され、セマンティック検索を活用
5. **Bugbot**: 定期的に実行してコード品質を維持
6. **プランニング機能**: 大規模な機能追加時に活用

### 参考リンク

- [Cursor公式ドキュメント](https://cursor.com/ja/docs)
- [Cursor公式サイト](https://cursor.com)

